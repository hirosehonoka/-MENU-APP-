@startuml 
' 樋田くんのコードをお借りして編集しました。
' menuapp_db のクラス図
package menuapp_db {
  class User {
    +userId: integer <<PK>>
    userName: String(20)
    password: String(200)
    userInfo: jSONB
  }

  class Menu {
    +menuId: integer <<PK>>
    menu1: jsonb
    menu2: jsonb
    menu3: jsonb
    menu4: jsonb
    menu5: jsonb
    menu6: jsonb
    menu7: jsonb
    userName: String(20)
    createdAt: DateTime
  }

  class Recipe {
    +recipeId: integer <<PK>>
    data: jsonb
  }

  class RecipeItems {
    +recipeId: integer <<PK>>
    items: jsonb
  }

  class RecipeNutritions {
    +recipeId: integer <<PK>>
    nutritions: jsonb
  }

  class NutritionalTargets {
    +userInfo: jsonb <<PK>>
    nutritionals: jsonb
  }

  class ItemWeights {
    +itemName: integer <<PK>>
    weights: jsonb
  }

  class ItemEquals {
    +itemName: integer <<PK>>
    equals: jsonb
  }

  class RecipeUrl {
    +recipeId: integer <<PK>>
    recipeTitle: String(30)
    recipeUrl: String
    foodImageUrl: String
  }
}

' 関係
User "1" <-- "0..1" Menu : createdBy
User "1" <-- "1" NutritionalTargets : setedBy
Menu "0..*" --> "0..*" Recipe : contains (menus store recipe refs)
Recipe "1" <-- "1" RecipeItems : has
Recipe "1" <-- "1" RecipeNutritions : has
Recipe "1" <-- "0..1" RecipeUrl : has URL

' 食材関連の参照（recipeItems の items が itemId を参照する想定）
RecipeItems "0..*" .. "0..*" ItemWeights : may reference
RecipeItems "0..*" .. "0..*" ItemEquals : may referenceß

@enduml
